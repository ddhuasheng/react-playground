import{r as O,W as me}from"./react@18.3.1-DCuS0edz.js";function He(){return He=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])}return r},He.apply(this,arguments)}var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _t,hi={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/_t=hi,function(){var r={}.hasOwnProperty;function e(){for(var i=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var f=typeof a;if(f==="string"||f==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var d=e.apply(null,a);d&&i.push(d)}}else if(f==="object")if(a.toString===Object.prototype.toString)for(var l in a)r.call(a,l)&&a[l]&&i.push(l);else i.push(a.toString())}}return i.join(" ")}_t.exports?(e.default=e,_t.exports=e):window.classNames=e}();var Et=Ye(hi.exports),Zt=NaN,Fi="[object Symbol]",Ri=/^\s+|\s+$/g,$i=/^[-+]0x[0-9a-f]+$/i,ki=/^0b[01]+$/i,Hi=/^0o[0-7]+$/i,Yi=parseInt,Bi=Object.prototype.toString;function Qt(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function bt(r){if(typeof r=="number")return r;if(function(n){return typeof n=="symbol"||function(a){return!!a&&typeof a=="object"}(n)&&Bi.call(n)==Fi}(r))return Zt;if(Qt(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Qt(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(Ri,"");var i=ki.test(r);return i||Hi.test(r)?Yi(r.slice(2),i?2:8):$i.test(r)?Zt:+r}var se=Ye(function(r,e,i){return i===void 0&&(i=e,e=void 0),i!==void 0&&(i=(i=bt(i))==i?i:0),e!==void 0&&(e=(e=bt(e))==e?e:0),function(n,a,f){return n==n&&(f!==void 0&&(n=n<=f?n:f),a!==void 0&&(n=n>=a?n:a)),n}(bt(r),e,i)}),Vt={exports:{}};(function(r,e){var i="__lodash_hash_undefined__",n=1,a=2,f=9007199254740991,d="[object Arguments]",l="[object Array]",o="[object AsyncFunction]",u="[object Boolean]",m="[object Date]",h="[object Error]",z="[object Function]",g="[object GeneratorFunction]",w="[object Map]",x="[object Number]",S="[object Null]",v="[object Object]",p="[object Promise]",b="[object Proxy]",E="[object RegExp]",G="[object Set]",ne="[object String]",_="[object Symbol]",M="[object Undefined]",K="[object WeakMap]",Z="[object ArrayBuffer]",ve="[object DataView]",N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[d]=I[l]=I[Z]=I[u]=I[ve]=I[m]=I[h]=I[z]=I[w]=I[x]=I[v]=I[E]=I[G]=I[ne]=I[K]=!1;var A=typeof Se=="object"&&Se&&Se.Object===Object&&Se,U=typeof self=="object"&&self&&self.Object===Object&&self,F=A||U||Function("return this")(),q=e&&!e.nodeType&&e,pe=q&&r&&!r.nodeType&&r,ge=pe&&pe.exports===q,Y=ge&&A.process,ye=function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}}(),X=ye&&ye.isTypedArray;function ue(t,s){for(var c=-1,y=t==null?0:t.length;++c<y;)if(s(t[c],c,t))return!0;return!1}function De(t){var s=-1,c=Array(t.size);return t.forEach(function(y,T){c[++s]=[T,y]}),c}function Be(t){var s=-1,c=Array(t.size);return t.forEach(function(y){c[++s]=y}),c}var Oe,j,V,R=Array.prototype,k=Function.prototype,We=Object.prototype,lt=F["__core-js_shared__"],Lt=k.toString,oe=We.hasOwnProperty,Mt=(Oe=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||""))?"Symbol(src)_1."+Oe:"",Nt=We.toString,bi=RegExp("^"+Lt.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=ge?F.Buffer:void 0,Ge=F.Symbol,At=F.Uint8Array,Ct=We.propertyIsEnumerable,zi=R.splice,Ie=Ge?Ge.toStringTag:void 0,Tt=Object.getOwnPropertySymbols,wi=Pt?Pt.isBuffer:void 0,Si=(j=Object.keys,V=Object,function(t){return j(V(t))}),ht=Le(F,"DataView"),Ae=Le(F,"Map"),ct=Le(F,"Promise"),ft=Le(F,"Set"),mt=Le(F,"WeakMap"),Ce=Le(Object,"create"),Ii=Ve(ht),xi=Ve(Ae),Ei=Ve(ct),Vi=Ve(ft),ji=Ve(mt),Ft=Ge?Ge.prototype:void 0,dt=Ft?Ft.valueOf:void 0;function xe(t){var s=-1,c=t==null?0:t.length;for(this.clear();++s<c;){var y=t[s];this.set(y[0],y[1])}}function le(t){var s=-1,c=t==null?0:t.length;for(this.clear();++s<c;){var y=t[s];this.set(y[0],y[1])}}function Ee(t){var s=-1,c=t==null?0:t.length;for(this.clear();++s<c;){var y=t[s];this.set(y[0],y[1])}}function Ue(t){var s=-1,c=t==null?0:t.length;for(this.__data__=new Ee;++s<c;)this.add(t[s])}function _e(t){var s=this.__data__=new le(t);this.size=s.size}function Di(t,s){var c=Ke(t),y=!c&&Pi(t),T=!c&&!y&&vt(t),D=!c&&!y&&!T&&Ut(t),$=c||y||T||D,H=$?function(W,ae){for(var he=-1,J=Array(W);++he<W;)J[he]=ae(he);return J}(t.length,String):[],re=H.length;for(var B in t)!oe.call(t,B)||$&&(B=="length"||T&&(B=="offset"||B=="parent")||D&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||Ni(B,re))||H.push(B);return H}function Xe(t,s){for(var c=t.length;c--;)if(Yt(t[c][0],s))return c;return-1}function Te(t){return t==null?t===void 0?M:S:Ie&&Ie in Object(t)?function(s){var c=oe.call(s,Ie),y=s[Ie];try{s[Ie]=void 0;var T=!0}catch{}var D=Nt.call(s);return T&&(c?s[Ie]=y:delete s[Ie]),D}(t):function(s){return Nt.call(s)}(t)}function Rt(t){return Fe(t)&&Te(t)==d}function $t(t,s,c,y,T){return t===s||(t==null||s==null||!Fe(t)&&!Fe(s)?t!=t&&s!=s:function(D,$,H,re,B,W){var ae=Ke(D),he=Ke($),J=ae?l:be(D),ce=he?l:be($),Me=(J=J==d?v:J)==v,Ze=(ce=ce==d?v:ce)==v,Ne=J==ce;if(Ne&&vt(D)){if(!vt($))return!1;ae=!0,Me=!1}if(Ne&&!Me)return W||(W=new _e),ae||Ut(D)?kt(D,$,H,re,B,W):function(C,L,Qe,ze,pt,ee,fe){switch(Qe){case ve:if(C.byteLength!=L.byteLength||C.byteOffset!=L.byteOffset)return!1;C=C.buffer,L=L.buffer;case Z:return!(C.byteLength!=L.byteLength||!ee(new At(C),new At(L)));case u:case m:case x:return Yt(+C,+L);case h:return C.name==L.name&&C.message==L.message;case E:case ne:return C==L+"";case w:var we=De;case G:var $e=ze&n;if(we||(we=Be),C.size!=L.size&&!$e)return!1;var qe=fe.get(C);if(qe)return qe==L;ze|=a,fe.set(C,L);var gt=kt(we(C),we(L),ze,pt,ee,fe);return fe.delete(C),gt;case _:if(dt)return dt.call(C)==dt.call(L)}return!1}(D,$,J,H,re,B,W);if(!(H&n)){var Re=Me&&oe.call(D,"__wrapped__"),Xt=Ze&&oe.call($,"__wrapped__");if(Re||Xt){var Ci=Re?D.value():D,Ti=Xt?$.value():$;return W||(W=new _e),B(Ci,Ti,H,re,W)}}return Ne?(W||(W=new _e),function(C,L,Qe,ze,pt,ee){var fe=Qe&n,we=Ht(C),$e=we.length,qe=Ht(L),gt=qe.length;if($e!=gt&&!fe)return!1;for(var et=$e;et--;){var je=we[et];if(!(fe?je in L:oe.call(L,je)))return!1}var Jt=ee.get(C);if(Jt&&ee.get(L))return Jt==L;var tt=!0;ee.set(C,L),ee.set(L,C);for(var yt=fe;++et<$e;){var it=C[je=we[et]],nt=L[je];if(ze)var Kt=fe?ze(nt,it,je,L,C,ee):ze(it,nt,je,C,L,ee);if(!(Kt===void 0?it===nt||pt(it,nt,Qe,ze,ee):Kt)){tt=!1;break}yt||(yt=je=="constructor")}if(tt&&!yt){var rt=C.constructor,st=L.constructor;rt==st||!("constructor"in C)||!("constructor"in L)||typeof rt=="function"&&rt instanceof rt&&typeof st=="function"&&st instanceof st||(tt=!1)}return ee.delete(C),ee.delete(L),tt}(D,$,H,re,B,W)):!1}(t,s,c,y,$t,T))}function Oi(t){return!(!Gt(t)||function(s){return!!Mt&&Mt in s}(t))&&(Bt(t)?bi:N).test(Ve(t))}function Li(t){if(c=(s=t)&&s.constructor,y=typeof c=="function"&&c.prototype||We,s!==y)return Si(t);var s,c,y,T=[];for(var D in Object(t))oe.call(t,D)&&D!="constructor"&&T.push(D);return T}function kt(t,s,c,y,T,D){var $=c&n,H=t.length,re=s.length;if(H!=re&&!($&&re>H))return!1;var B=D.get(t);if(B&&D.get(s))return B==s;var W=-1,ae=!0,he=c&a?new Ue:void 0;for(D.set(t,s),D.set(s,t);++W<H;){var J=t[W],ce=s[W];if(y)var Me=$?y(ce,J,W,s,t,D):y(J,ce,W,t,s,D);if(Me!==void 0){if(Me)continue;ae=!1;break}if(he){if(!ue(s,function(Ze,Ne){if(Re=Ne,!he.has(Re)&&(J===Ze||T(J,Ze,c,y,D)))return he.push(Ne);var Re})){ae=!1;break}}else if(J!==ce&&!T(J,ce,c,y,D)){ae=!1;break}}return D.delete(t),D.delete(s),ae}function Ht(t){return function(s,c,y){var T=c(s);return Ke(s)?T:function(D,$){for(var H=-1,re=$.length,B=D.length;++H<re;)D[B+H]=$[H];return D}(T,y(s))}(t,Ai,Mi)}function Je(t,s){var c,y,T=t.__data__;return((y=typeof(c=s))=="string"||y=="number"||y=="symbol"||y=="boolean"?c!=="__proto__":c===null)?T[typeof s=="string"?"string":"hash"]:T.map}function Le(t,s){var c=function(y,T){return y==null?void 0:y[T]}(t,s);return Oi(c)?c:void 0}xe.prototype.clear=function(){this.__data__=Ce?Ce(null):{},this.size=0},xe.prototype.delete=function(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s},xe.prototype.get=function(t){var s=this.__data__;if(Ce){var c=s[t];return c===i?void 0:c}return oe.call(s,t)?s[t]:void 0},xe.prototype.has=function(t){var s=this.__data__;return Ce?s[t]!==void 0:oe.call(s,t)},xe.prototype.set=function(t,s){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=Ce&&s===void 0?i:s,this},le.prototype.clear=function(){this.__data__=[],this.size=0},le.prototype.delete=function(t){var s=this.__data__,c=Xe(s,t);return!(c<0)&&(c==s.length-1?s.pop():zi.call(s,c,1),--this.size,!0)},le.prototype.get=function(t){var s=this.__data__,c=Xe(s,t);return c<0?void 0:s[c][1]},le.prototype.has=function(t){return Xe(this.__data__,t)>-1},le.prototype.set=function(t,s){var c=this.__data__,y=Xe(c,t);return y<0?(++this.size,c.push([t,s])):c[y][1]=s,this},Ee.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(Ae||le),string:new xe}},Ee.prototype.delete=function(t){var s=Je(this,t).delete(t);return this.size-=s?1:0,s},Ee.prototype.get=function(t){return Je(this,t).get(t)},Ee.prototype.has=function(t){return Je(this,t).has(t)},Ee.prototype.set=function(t,s){var c=Je(this,t),y=c.size;return c.set(t,s),this.size+=c.size==y?0:1,this},Ue.prototype.add=Ue.prototype.push=function(t){return this.__data__.set(t,i),this},Ue.prototype.has=function(t){return this.__data__.has(t)},_e.prototype.clear=function(){this.__data__=new le,this.size=0},_e.prototype.delete=function(t){var s=this.__data__,c=s.delete(t);return this.size=s.size,c},_e.prototype.get=function(t){return this.__data__.get(t)},_e.prototype.has=function(t){return this.__data__.has(t)},_e.prototype.set=function(t,s){var c=this.__data__;if(c instanceof le){var y=c.__data__;if(!Ae||y.length<199)return y.push([t,s]),this.size=++c.size,this;c=this.__data__=new Ee(y)}return c.set(t,s),this.size=c.size,this};var Mi=Tt?function(t){return t==null?[]:(t=Object(t),function(s,c){for(var y=-1,T=s==null?0:s.length,D=0,$=[];++y<T;){var H=s[y];c(H,y,s)&&($[D++]=H)}return $}(Tt(t),function(s){return Ct.call(t,s)}))}:function(){return[]},be=Te;function Ni(t,s){return!!(s=s??f)&&(typeof t=="number"||P.test(t))&&t>-1&&t%1==0&&t<s}function Ve(t){if(t!=null){try{return Lt.call(t)}catch{}try{return t+""}catch{}}return""}function Yt(t,s){return t===s||t!=t&&s!=s}(ht&&be(new ht(new ArrayBuffer(1)))!=ve||Ae&&be(new Ae)!=w||ct&&be(ct.resolve())!=p||ft&&be(new ft)!=G||mt&&be(new mt)!=K)&&(be=function(t){var s=Te(t),c=s==v?t.constructor:void 0,y=c?Ve(c):"";if(y)switch(y){case Ii:return ve;case xi:return w;case Ei:return p;case Vi:return G;case ji:return K}return s});var Pi=Rt(function(){return arguments}())?Rt:function(t){return Fe(t)&&oe.call(t,"callee")&&!Ct.call(t,"callee")},Ke=Array.isArray,vt=wi||function(){return!1};function Bt(t){if(!Gt(t))return!1;var s=Te(t);return s==z||s==g||s==o||s==b}function Wt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f}function Gt(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}function Fe(t){return t!=null&&typeof t=="object"}var Ut=X?function(t){return function(s){return t(s)}}(X):function(t){return Fe(t)&&Wt(t.length)&&!!I[Te(t)]};function Ai(t){return(s=t)!=null&&Wt(s.length)&&!Bt(s)?Di(t):Li(t);var s}r.exports=function(t,s){return $t(t,s)}})(Vt,Vt.exports);var Wi=Ye(Vt.exports);function qt(r,e,i){return r[e]?r[e][0]?r[e][0][i]:r[e][i]:e==="contentBoxSize"?r.contentRect[i==="inlineSize"?"width":"height"]:void 0}function Gi(r){r===void 0&&(r={});var e=r.onResize,i=O.useRef(void 0);i.current=e;var n=r.round||Math.round,a=O.useRef(),f=O.useState({width:void 0,height:void 0}),d=f[0],l=f[1],o=O.useRef(!1);O.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]);var u=O.useRef({width:void 0,height:void 0}),m=function(h,z){var g=O.useRef(null),w=O.useRef(null);w.current=z;var x=O.useRef(null);O.useEffect(function(){S()});var S=O.useCallback(function(){var v=x.current,p=w.current,b=v||(p?p instanceof Element?p:p.current:null);g.current&&g.current.element===b&&g.current.subscriber===h||(g.current&&g.current.cleanup&&g.current.cleanup(),g.current={element:b,subscriber:h,cleanup:b?h(b):void 0})},[h]);return O.useEffect(function(){return function(){g.current&&g.current.cleanup&&(g.current.cleanup(),g.current=null)}},[]),O.useCallback(function(v){x.current=v,S()},[S])}(O.useCallback(function(h){return a.current&&a.current.box===r.box&&a.current.round===n||(a.current={box:r.box,round:n,instance:new ResizeObserver(function(z){var g=z[0],w=r.box==="border-box"?"borderBoxSize":r.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",x=qt(g,w,"inlineSize"),S=qt(g,w,"blockSize"),v=x?n(x):void 0,p=S?n(S):void 0;if(u.current.width!==v||u.current.height!==p){var b={width:v,height:p};u.current.width=v,u.current.height=p,i.current?i.current(b):o.current||l(b)}})}),a.current.instance.observe(h,{box:r.box}),function(){a.current&&a.current.instance.unobserve(h)}},[r.box,n]),r.ref);return O.useMemo(function(){return{ref:m,width:d.width,height:d.height}},[m,d.width,d.height])}var Ui="allotment-module_splitView__L-yRc",Xi="allotment-module_sashContainer__fzwJF",Ji="allotment-module_splitViewContainer__rQnVa",ci="allotment-module_splitViewView__MGZ6O",Ki="allotment-module_vertical__WSwwa",Zi="allotment-module_horizontal__7doS8",Qi="allotment-module_separatorBorder__x-rDS";let ke,fi=!1,mi=!1;typeof navigator=="object"&&(ke=navigator.userAgent,mi=ke.indexOf("Macintosh")>=0,fi=(ke.indexOf("Macintosh")>=0||ke.indexOf("iPad")>=0||ke.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const di=fi,qi=mi,ei=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;class en{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}}function ot(r,e){const i=r.length,n=i-e.length;return n>=0&&r.slice(n,i)===e}var vi={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,i="~";function n(){}function a(o,u,m){this.fn=o,this.context=u,this.once=m||!1}function f(o,u,m,h,z){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new a(m,h||o,z),w=i?i+u:u;return o._events[w]?o._events[w].fn?o._events[w]=[o._events[w],g]:o._events[w].push(g):(o._events[w]=g,o._eventsCount++),o}function d(o,u){--o._eventsCount==0?o._events=new n:delete o._events[u]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1)),l.prototype.eventNames=function(){var o,u,m=[];if(this._eventsCount===0)return m;for(u in o=this._events)e.call(o,u)&&m.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(o)):m},l.prototype.listeners=function(o){var u=i?i+o:o,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,z=m.length,g=new Array(z);h<z;h++)g[h]=m[h].fn;return g},l.prototype.listenerCount=function(o){var u=i?i+o:o,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(o,u,m,h,z,g){var w=i?i+o:o;if(!this._events[w])return!1;var x,S,v=this._events[w],p=arguments.length;if(v.fn){switch(v.once&&this.removeListener(o,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,m),!0;case 4:return v.fn.call(v.context,u,m,h),!0;case 5:return v.fn.call(v.context,u,m,h,z),!0;case 6:return v.fn.call(v.context,u,m,h,z,g),!0}for(S=1,x=new Array(p-1);S<p;S++)x[S-1]=arguments[S];v.fn.apply(v.context,x)}else{var b,E=v.length;for(S=0;S<E;S++)switch(v[S].once&&this.removeListener(o,v[S].fn,void 0,!0),p){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,m);break;case 4:v[S].fn.call(v[S].context,u,m,h);break;default:if(!x)for(b=1,x=new Array(p-1);b<p;b++)x[b-1]=arguments[b];v[S].fn.apply(v[S].context,x)}}return!0},l.prototype.on=function(o,u,m){return f(this,o,u,m,!1)},l.prototype.once=function(o,u,m){return f(this,o,u,m,!0)},l.prototype.removeListener=function(o,u,m,h){var z=i?i+o:o;if(!this._events[z])return this;if(!u)return d(this,z),this;var g=this._events[z];if(g.fn)g.fn!==u||h&&!g.once||m&&g.context!==m||d(this,z);else{for(var w=0,x=[],S=g.length;w<S;w++)(g[w].fn!==u||h&&!g[w].once||m&&g[w].context!==m)&&x.push(g[w]);x.length?this._events[z]=x.length===1?x[0]:x:d(this,z)}return this},l.prototype.removeAllListeners=function(o){var u;return o?(u=i?i+o:o,this._events[u]&&d(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,r.exports=l})(vi);var Dt=Ye(vi.exports);function ti(r,e){const i=r.indexOf(e);i>-1&&(r.splice(i,1),r.unshift(e))}function zt(r,e){const i=r.indexOf(e);i>-1&&(r.splice(i,1),r.push(e))}function te(r,e,i=1){const n=Math.max(0,Math.ceil((e-r)/i)),a=new Array(n);let f=-1;for(;++f<n;)a[f]=r+f*i;return a}var ii=NaN,tn="[object Symbol]",nn=/^\s+|\s+$/g,rn=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,on=/^0o[0-7]+$/i,an=parseInt,un=typeof Se=="object"&&Se&&Se.Object===Object&&Se,ln=typeof self=="object"&&self&&self.Object===Object&&self,hn=un||ln||Function("return this")(),cn=Object.prototype.toString,fn=Math.max,mn=Math.min,wt=function(){return hn.Date.now()};function jt(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function ni(r){if(typeof r=="number")return r;if(function(n){return typeof n=="symbol"||function(a){return!!a&&typeof a=="object"}(n)&&cn.call(n)==tn}(r))return ii;if(jt(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=jt(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(nn,"");var i=sn.test(r);return i||on.test(r)?an(r.slice(2),i?2:8):rn.test(r)?ii:+r}var dn=Ye(function(r,e,i){var n,a,f,d,l,o,u=0,m=!1,h=!1,z=!0;if(typeof r!="function")throw new TypeError("Expected a function");function g(p){var b=n,E=a;return n=a=void 0,u=p,d=r.apply(E,b)}function w(p){var b=p-o;return o===void 0||b>=e||b<0||h&&p-u>=f}function x(){var p=wt();if(w(p))return S(p);l=setTimeout(x,function(b){var E=e-(b-o);return h?mn(E,f-(b-u)):E}(p))}function S(p){return l=void 0,z&&n?g(p):(n=a=void 0,d)}function v(){var p=wt(),b=w(p);if(n=arguments,a=this,o=p,b){if(l===void 0)return function(E){return u=E,l=setTimeout(x,e),m?g(E):d}(o);if(h)return l=setTimeout(x,e),g(o)}return l===void 0&&(l=setTimeout(x,e)),d}return e=ni(e)||0,jt(i)&&(m=!!i.leading,f=(h="maxWait"in i)?fn(ni(i.maxWait)||0,e):f,z="trailing"in i?!!i.trailing:z),v.cancel=function(){l!==void 0&&clearTimeout(l),u=0,n=o=a=l=void 0},v.flush=function(){return l===void 0?d:S(wt())},v}),vn="sash-module_sash__K-9lB",pn="sash-module_disabled__Hm-wx",gn="sash-module_mac__Jf6OJ",ri="sash-module_vertical__pB-rs",yn="sash-module_minimum__-UKxp",_n="sash-module_maximum__TCWxD",si="sash-module_horizontal__kFbiw",St="sash-module_hover__80W6I",It="sash-module_active__bJspD";let ie=function(r){return r.Vertical="VERTICAL",r.Horizontal="HORIZONTAL",r}({}),Q=function(r){return r.Disabled="DISABLED",r.Minimum="MINIMUM",r.Maximum="MAXIMUM",r.Enabled="ENABLED",r}({}),pi=di?20:8;const gi=new Dt;class oi extends Dt{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(pn,e===Q.Disabled),this.el.classList.toggle("sash-disabled",e===Q.Disabled),this.el.classList.toggle(yn,e===Q.Minimum),this.el.classList.toggle("sash-minimum",e===Q.Minimum),this.el.classList.toggle(_n,e===Q.Maximum),this.el.classList.toggle("sash-maximum",e===Q.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,i,n){var a;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=dn(f=>f.classList.add("sash-hover",St),this.hoverDelay),this._state=Q.Enabled,this.onPointerStart=f=>{const d=f.pageX,l=f.pageY,o={startX:d,currentX:d,startY:l,currentY:l};this.el.classList.add("sash-active",It),this.emit("start",o),this.el.setPointerCapture(f.pointerId);const u=h=>{h.preventDefault();const z={startX:d,currentX:h.pageX,startY:l,currentY:h.pageY};this.emit("change",z)},m=h=>{h.preventDefault(),this.el.classList.remove("sash-active",It),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(h.pointerId),window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",m)};window.addEventListener("pointermove",u),window.addEventListener("pointerup",m)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(It)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",St)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",St)},this.el=document.createElement("div"),this.el.classList.add("sash",vn),this.el.dataset.testid="sash",e.append(this.el),qi&&this.el.classList.add("sash-mac",gn),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof n.size=="number"?(this.size=n.size,n.orientation===ie.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=pi,gi.on("onDidChangeGlobalSize",f=>{this.size=f,this.layout()})),this.layoutProvider=i,this.orientation=(a=n.orientation)!=null?a:ie.Vertical,this.orientation===ie.Horizontal?(this.el.classList.add("sash-horizontal",si),this.el.classList.remove("sash-vertical",ri)):(this.el.classList.remove("sash-horizontal",si),this.el.classList.add("sash-vertical",ri)),this.layout()}layout(){if(this.orientation===ie.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let ut;var xt;(xt=ut||(ut={})).Distribute={type:"distribute"},xt.Split=function(r){return{type:"split",index:r}},xt.Invisible=function(r){return{type:"invisible",cachedVisibleSize:r}};let de=function(r){return r.Normal="NORMAL",r.Low="LOW",r.High="HIGH",r}({});class yi{constructor(e,i,n){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=i,this.container.classList.add("split-view-view",ci),this.container.dataset.testid="split-view-view",typeof n=="number"?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,i){e!==this.visible&&(e?(this.size=se(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof i=="number"?i:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}}class bn extends yi{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}class zn extends yi{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class wn extends Dt{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,i={},n,a,f){var d,l;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=o=>{this.emit("sashchange",o),this.saveProportions();for(const u of this.viewItems)u.enabled=!0},this.orientation=(d=i.orientation)!=null?d:ie.Vertical,this.proportionalLayout=(l=i.proportionalLayout)!=null?l:!0,this.getSashOrthogonalSize=i.getSashOrthogonalSize,n&&(this.onDidChange=n),a&&(this.onDidDragStart=a),f&&(this.onDidDragEnd=f),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",Xi),e.prepend(this.sashContainer),i.descriptor){this.size=i.descriptor.size;for(const[o,u]of i.descriptor.views.entries()){const m=u.size,h=u.container,z=u.view;this.addView(h,z,m,o,!0)}this.contentSize=this.viewItems.reduce((o,u)=>o+u.size,0),this.saveProportions()}}addView(e,i,n,a=this.viewItems.length,f){let d;d=typeof n=="number"?n:n.type==="split"?this.getViewSize(n.index)/2:n.type==="invisible"?{cachedVisibleSize:n.cachedVisibleSize}:i.minimumSize;const l=this.orientation===ie.Vertical?new zn(e,i,d):new bn(e,i,d);if(this.viewItems.splice(a,0,l),this.viewItems.length>1){const o=this.orientation===ie.Vertical?new oi(this.sashContainer,{getHorizontalSashTop:h=>this.getSashPosition(h),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:ie.Horizontal}):new oi(this.sashContainer,{getVerticalSashLeft:h=>this.getSashPosition(h),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:ie.Vertical}),u=this.orientation===ie.Vertical?h=>({sash:o,start:h.startY,current:h.currentY}):h=>({sash:o,start:h.startX,current:h.currentX});o.on("start",h=>{var z;this.emit("sashDragStart"),this.onSashStart(u(h));const g=this.viewItems.map(w=>w.size);(z=this.onDidDragStart)==null||z.call(this,g)}),o.on("change",h=>this.onSashChange(u(h))),o.on("end",()=>{var h;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(g=>g.sash===o));const z=this.viewItems.map(g=>g.size);(h=this.onDidDragEnd)==null||h.call(this,z)}),o.on("reset",()=>{const h=this.sashItems.findIndex(S=>S.sash===o),z=te(h,-1,-1),g=te(h+1,this.viewItems.length),w=this.findFirstSnapIndex(z),x=this.findFirstSnapIndex(g);(typeof w!="number"||this.viewItems[w].visible)&&(typeof x!="number"||this.viewItems[x].visible)&&this.emit("sashreset",h)});const m={sash:o};this.sashItems.splice(a-1,0,m)}f||this.relayout(),f||typeof n=="number"||n.type!=="distribute"||this.distributeViewSizes()}removeView(e,i){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const n=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const a=Math.max(e-1,0);this.sashItems.splice(a,1)[0].sash.dispose()}return this.relayout(),i&&i.type==="distribute"&&this.distributeViewSizes(),n}moveView(e,i,n){const a=this.getViewCachedVisibleSize(i),f=a===void 0?this.getViewSize(i):ut.Invisible(a),d=this.removeView(i);this.addView(e,d,f,n)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let n=0;n<this.viewItems.length;n++){const a=this.viewItems[n];a.size=se(Math.round(this.proportions[n]*e),a.minimumSize,a.maximumSize)}else{const n=te(0,this.viewItems.length),a=n.filter(d=>this.viewItems[d].priority===de.Low),f=n.filter(d=>this.viewItems[d].priority===de.High);this.resize(this.viewItems.length-1,e-i,void 0,a,f)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,i){if(e<0||e>=this.viewItems.length)return;const n=te(0,this.viewItems.length).filter(l=>l!==e),a=[...n.filter(l=>this.viewItems[l].priority===de.Low),e],f=n.filter(l=>this.viewItems[l].priority===de.High),d=this.viewItems[e];i=Math.round(i),i=se(i,d.minimumSize,Math.min(d.maximumSize,this.size)),d.size=i,this.relayout(a,f)}resizeViews(e){for(let i=0;i<e.length;i++){const n=this.viewItems[i];let a=e[i];a=Math.round(a),a=se(a,n.minimumSize,Math.min(n.maximumSize,this.size)),n.size=a}this.contentSize=this.viewItems.reduce((i,n)=>i+n.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,i){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(i),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let i=0;for(const l of this.viewItems)l.maximumSize-l.minimumSize>0&&(e.push(l),i+=l.size);const n=Math.floor(i/e.length);for(const l of e)l.size=se(n,l.minimumSize,l.maximumSize);const a=te(0,this.viewItems.length),f=a.filter(l=>this.viewItems[l].priority===de.Low),d=a.filter(l=>this.viewItems[l].priority===de.High);this.relayout(f,d)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,i){const n=this.viewItems.reduce((a,f)=>a+f.size,0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,i),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:i}){const n=this.sashItems.findIndex(a=>a.sash===e);(a=>{const f=this.viewItems.map(p=>p.size);let d,l,o=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;const m=te(n,-1,-1),h=te(n+1,this.viewItems.length),z=m.reduce((p,b)=>p+(this.viewItems[b].minimumSize-f[b]),0),g=m.reduce((p,b)=>p+(this.viewItems[b].viewMaximumSize-f[b]),0),w=h.length===0?Number.POSITIVE_INFINITY:h.reduce((p,b)=>p+(f[b]-this.viewItems[b].minimumSize),0),x=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((p,b)=>p+(f[b]-this.viewItems[b].viewMaximumSize),0);o=Math.max(z,x),u=Math.min(w,g);const S=this.findFirstSnapIndex(m),v=this.findFirstSnapIndex(h);if(typeof S=="number"){const p=this.viewItems[S],b=Math.floor(p.viewMinimumSize/2);d={index:S,limitDelta:p.visible?o-b:o+b,size:p.size}}if(typeof v=="number"){const p=this.viewItems[v],b=Math.floor(p.viewMinimumSize/2);l={index:v,limitDelta:p.visible?u+b:u-b,size:p.size}}this.sashDragState={start:a,current:a,index:n,sizes:f,minDelta:o,maxDelta:u,snapBefore:d,snapAfter:l}})(i)}onSashChange({current:e}){const{index:i,start:n,sizes:a,minDelta:f,maxDelta:d,snapBefore:l,snapAfter:o}=this.sashDragState;this.sashDragState.current=e;const u=e-n;this.resize(i,u,a,void 0,void 0,f,d,l,o),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let i=0;for(let n=0;n<this.sashItems.length;n++)if(i+=this.viewItems[n].size,this.sashItems[n].sash===e)return i;return 0}resize(e,i,n=this.viewItems.map(m=>m.size),a,f,d=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,o,u){if(e<0||e>=this.viewItems.length)return 0;const m=te(e,-1,-1),h=te(e+1,this.viewItems.length);if(f)for(const _ of f)ti(m,_),ti(h,_);if(a)for(const _ of a)zt(m,_),zt(h,_);const z=m.map(_=>this.viewItems[_]),g=m.map(_=>n[_]),w=h.map(_=>this.viewItems[_]),x=h.map(_=>n[_]),S=m.reduce((_,M)=>_+(this.viewItems[M].minimumSize-n[M]),0),v=m.reduce((_,M)=>_+(this.viewItems[M].maximumSize-n[M]),0),p=h.length===0?Number.POSITIVE_INFINITY:h.reduce((_,M)=>_+(n[M]-this.viewItems[M].minimumSize),0),b=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((_,M)=>_+(n[M]-this.viewItems[M].maximumSize),0),E=Math.max(S,b,d),G=Math.min(p,v,l);let ne=!1;if(o){const _=this.viewItems[o.index],M=i>=o.limitDelta;ne=M!==_.visible,_.setVisible(M,o.size)}if(!ne&&u){const _=this.viewItems[u.index],M=i<u.limitDelta;ne=M!==_.visible,_.setVisible(M,u.size)}if(ne)return this.resize(e,i,n,a,f,d,l);for(let _=0,M=i=se(i,E,G);_<z.length;_++){const K=z[_],Z=se(g[_]+M,K.minimumSize,K.maximumSize);M-=Z-g[_],K.size=Z}for(let _=0,M=i;_<w.length;_++){const K=w[_],Z=se(x[_]-M,K.minimumSize,K.maximumSize);M+=Z-x[_],K.size=Z}return i}distributeEmptySpace(e){const i=this.viewItems.reduce((f,d)=>f+d.size,0);let n=this.size-i;const a=te(this.viewItems.length-1,-1,-1);typeof e=="number"&&zt(a,e);for(let f=0;n!==0&&f<a.length;f++){const d=this.viewItems[a[f]],l=se(d.size+n,d.minimumSize,d.maximumSize);n-=l-d.size,d.size=l}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((n,a)=>n+a.size,0);let i=0;for(const n of this.viewItems)n.layout(i),i+=n.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(n=>n.size)),this.sashItems.forEach(n=>n.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const i=this.viewItems.map(o=>e=o.size-o.minimumSize>0||e);e=!1;const n=this.viewItems.map(o=>e=o.maximumSize-o.size>0||e),a=[...this.viewItems].reverse();e=!1;const f=a.map(o=>e=o.size-o.minimumSize>0||e).reverse();e=!1;const d=a.map(o=>e=o.maximumSize-o.size>0||e).reverse();let l=0;for(let o=0;o<this.sashItems.length;o++){const{sash:u}=this.sashItems[o];l+=this.viewItems[o].size;const m=!(i[o]&&d[o+1]),h=!(n[o]&&f[o+1]);if(m&&h){const z=te(o,-1,-1),g=te(o+1,this.viewItems.length),w=this.findFirstSnapIndex(z),x=this.findFirstSnapIndex(g),S=typeof w=="number"&&!this.viewItems[w].visible,v=typeof x=="number"&&!this.viewItems[x].visible;S&&f[o]&&(l>0||this.startSnappingEnabled)?u.state=Q.Minimum:v&&i[o]&&(l<this.contentSize||this.endSnappingEnabled)?u.state=Q.Maximum:u.state=Q.Disabled}else u.state=m&&!h?Q.Minimum:!m&&h?Q.Maximum:Q.Enabled}}findFirstSnapIndex(e){for(const i of e){const n=this.viewItems[i];if(n.visible&&n.snap)return i}for(const i of e){const n=this.viewItems[i];if(n.visible&&n.maximumSize-n.minimumSize>0)return;if(!n.visible&&n.snap)return i}}}class Pe{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}}class ai{constructor(e,i){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=i}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class at{getPreferredSize(){}}class ui{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new Pe(e);else if(typeof e=="string"){const i=e.trim();if(ot(i,"%")){const n=Number(i.slice(0,-1))/100;this.layoutStrategy=new ai(n,this.layoutService)}else if(ot(i,"px")){const n=Number(i.slice(0,-2))/100;this.layoutStrategy=new Pe(n)}else if(typeof Number.parseFloat(i)=="number"){const n=Number.parseFloat(i);this.layoutStrategy=new Pe(n)}else this.layoutStrategy=new at}else this.layoutStrategy=new at}constructor(e,i){var n;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=i.element,this.minimumSize=typeof i.minimumSize=="number"?i.minimumSize:30,this.maximumSize=typeof i.maximumSize=="number"?i.maximumSize:Number.POSITIVE_INFINITY,typeof i.preferredSize=="number")this.layoutStrategy=new Pe(i.preferredSize);else if(typeof i.preferredSize=="string"){const a=i.preferredSize.trim();if(ot(a,"%")){const f=Number(a.slice(0,-1))/100;this.layoutStrategy=new ai(f,this.layoutService)}else if(ot(a,"px")){const f=Number(a.slice(0,-2));this.layoutStrategy=new Pe(f)}else if(typeof Number.parseFloat(a)=="number"){const f=Number.parseFloat(a);this.layoutStrategy=new Pe(f)}else this.layoutStrategy=new at}else this.layoutStrategy=new at;this.priority=(n=i.priority)!=null?n:de.Normal,this.snap=typeof i.snap=="boolean"&&i.snap}layout(e){}}function li(r){return r.minSize!==void 0||r.maxSize!==void 0||r.preferredSize!==void 0||r.priority!==void 0||r.visible!==void 0}const Ot=O.forwardRef(({className:r,children:e},i)=>me.createElement("div",{ref:i,className:Et("split-view-view",ci,r)},e));Ot.displayName="Allotment.Pane";const _i=O.forwardRef(({children:r,className:e,id:i,maxSize:n=1/0,minSize:a=30,proportionalLayout:f=!0,separator:d=!0,sizes:l,defaultSizes:o=l,snap:u=!1,vertical:m=!1,onChange:h,onReset:z,onVisibleChange:g,onDragStart:w,onDragEnd:x},S)=>{const v=O.useRef(null),p=O.useRef([]),b=O.useRef(new Map),E=O.useRef(null),G=O.useRef(new Map),ne=O.useRef(new en),_=O.useRef([]),[M,K]=O.useState(!1),Z=O.useMemo(()=>me.Children.toArray(r).filter(me.isValidElement),[r]),ve=O.useCallback(N=>{var P,I;const A=(P=_.current)==null?void 0:P[N];return typeof(A==null?void 0:A.preferredSize)=="number"&&((I=E.current)!=null&&I.resizeView(N,Math.round(A.preferredSize)),!0)},[]);return O.useImperativeHandle(S,()=>({reset:()=>{if(z)z();else{var N;(N=E.current)==null||N.distributeViewSizes();for(let P=0;P<_.current.length;P++)ve(P)}},resize:N=>{var P;(P=E.current)==null||P.resizeViews(N)}})),ei(()=>{let N=!0;o&&G.current.size!==o.length&&(N=!1,console.warn(`Expected ${o.length} children based on defaultSizes but found ${G.current.size}`)),N&&o&&(p.current=Z.map(A=>A.key));const P=He({orientation:m?ie.Vertical:ie.Horizontal,proportionalLayout:f},N&&o&&{descriptor:{size:o.reduce((A,U)=>A+U,0),views:o.map((A,U)=>{var F,q,pe,ge;const Y=b.current.get(p.current[U]),ye=new ui(ne.current,He({element:document.createElement("div"),minimumSize:(F=Y==null?void 0:Y.minSize)!=null?F:a,maximumSize:(q=Y==null?void 0:Y.maxSize)!=null?q:n,priority:(pe=Y==null?void 0:Y.priority)!=null?pe:de.Normal},(Y==null?void 0:Y.preferredSize)&&{preferredSize:Y==null?void 0:Y.preferredSize},{snap:(ge=Y==null?void 0:Y.snap)!=null?ge:u}));return _.current.push(ye),{container:[...G.current.values()][U],size:A,view:ye}})}});E.current=new wn(v.current,P,h,w,x),E.current.on("sashDragStart",()=>{var A;(A=v.current)==null||A.classList.add("split-view-sash-dragging")}),E.current.on("sashDragEnd",()=>{var A;(A=v.current)==null||A.classList.remove("split-view-sash-dragging")}),E.current.on("sashchange",A=>{if(g&&E.current){const U=Z.map(F=>F.key);for(let F=0;F<U.length;F++){const q=b.current.get(U[F]);(q==null?void 0:q.visible)!==void 0&&q.visible!==E.current.isViewVisible(F)&&g(F,E.current.isViewVisible(F))}}}),E.current.on("sashreset",A=>{if(z)z();else{var U;if(ve(A)||ve(A+1))return;(U=E.current)==null||U.distributeViewSizes()}});const I=E.current;return()=>{I.dispose()}},[]),ei(()=>{if(M){const X=Z.map(j=>j.key),ue=[...p.current],De=X.filter(j=>!p.current.includes(j)),Be=X.filter(j=>p.current.includes(j)),Oe=p.current.map(j=>!X.includes(j));for(let j=Oe.length-1;j>=0;j--){var N;Oe[j]&&((N=E.current)!=null&&N.removeView(j),ue.splice(j,1),_.current.splice(j,1))}for(const j of De){var P,I,A,U,F;const V=b.current.get(j),R=new ui(ne.current,He({element:document.createElement("div"),minimumSize:(P=V==null?void 0:V.minSize)!=null?P:a,maximumSize:(I=V==null?void 0:V.maxSize)!=null?I:n,priority:(A=V==null?void 0:V.priority)!=null?A:de.Normal},(V==null?void 0:V.preferredSize)&&{preferredSize:V==null?void 0:V.preferredSize},{snap:(U=V==null?void 0:V.snap)!=null?U:u}));(F=E.current)!=null&&F.addView(G.current.get(j),R,ut.Distribute,X.findIndex(k=>k===j)),ue.splice(X.findIndex(k=>k===j),0,j),_.current.splice(X.findIndex(k=>k===j),0,R)}for(;!Wi(X,ue);)for(const[j,V]of X.entries()){const R=ue.findIndex(k=>k===V);if(R!==j){var q;(q=E.current)==null||q.moveView(G.current.get(V),R,j);const k=ue[R];ue.splice(R,1),ue.splice(j,0,k);break}}for(const j of De){var pe;const V=X.findIndex(k=>k===j),R=_.current[V].preferredSize;R!==void 0&&((pe=E.current)==null||pe.resizeView(V,R))}for(const j of[...De,...Be]){var ge,Y;const V=b.current.get(j),R=X.findIndex(k=>k===j);V&&li(V)&&V.visible!==void 0&&((ge=E.current)==null?void 0:ge.isViewVisible(R))!==V.visible&&((Y=E.current)==null||Y.setViewVisible(R,V.visible))}for(const j of Be){const V=b.current.get(j),R=X.findIndex(k=>k===j);if(V&&li(V)){var ye;V.preferredSize!==void 0&&_.current[R].preferredSize!==V.preferredSize&&(_.current[R].preferredSize=V.preferredSize);let k=!1;V.minSize!==void 0&&_.current[R].minimumSize!==V.minSize&&(_.current[R].minimumSize=V.minSize,k=!0),V.maxSize!==void 0&&_.current[R].maximumSize!==V.maxSize&&(_.current[R].maximumSize=V.maxSize,k=!0),k&&((ye=E.current)==null||ye.layout())}}(De.length>0||Oe.length>0)&&(p.current=X)}},[Z,M,n,a,u]),O.useEffect(()=>{E.current&&(E.current.onDidChange=h)},[h]),O.useEffect(()=>{E.current&&(E.current.onDidDragStart=w)},[w]),O.useEffect(()=>{E.current&&(E.current.onDidDragEnd=x)},[x]),Gi({ref:v,onResize:({width:N,height:P})=>{var I;N&&P&&((I=E.current)!=null&&I.layout(m?P:N),ne.current.setSize(m?P:N),K(!0))}}),O.useEffect(()=>{di&&Sn(20)},[]),me.createElement("div",{ref:v,className:Et("split-view",m?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":d},Ui,m?Ki:Zi,{[Qi]:d},e),id:i},me.createElement("div",{className:Et("split-view-container",Ji)},me.Children.toArray(r).map(N=>{if(!me.isValidElement(N))return null;const P=N.key;return N.type.displayName==="Allotment.Pane"?(b.current.set(P,N.props),me.cloneElement(N,{key:P,ref:I=>{const A=N.ref;A&&(A.current=I),I?G.current.set(P,I):G.current.delete(P)}})):me.createElement(Ot,{key:P,ref:I=>{I?G.current.set(P,I):G.current.delete(P)}},N)})))});function Sn(r){const e=se(r,4,20),i=se(r,1,8);document.documentElement.style.setProperty("--sash-size",e+"px"),document.documentElement.style.setProperty("--sash-hover-size",i+"px"),function(n){pi=n,gi.emit("onDidChangeGlobalSize",n)}(e)}_i.displayName="Allotment";var xn=Object.assign(_i,{Pane:Ot});export{xn as H};
