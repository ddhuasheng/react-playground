import{h as _,f as he,j as ee,d as fe,k as Ne,g as J,i as V}from"./@babel_runtime@7.25.6-DiS1YWA7.js";import{r as t,W as X}from"./react@18.3.1-DCuS0edz.js";import{r as pe}from"./react-dom@18.3.1_react@18.3.1-B5gAUVkY.js";import{c as $}from"./classnames@2.5.1-DruX3ml_.js";import{C as Re}from"./rc-motion@2.9.3_react-dom@18.3.1_react@18.3.1-5d-So-fh.js";import{p as Ae,K as Pe}from"./rc-util@5.43.0_react-dom@18.3.1_react@18.3.1-CtmwK0xI.js";var Le=t.forwardRef(function(e,a){var f=e.prefixCls,i=e.style,u=e.className,k=e.duration,m=k===void 0?4.5:k,P=e.showProgress,H=e.pauseOnHover,L=H===void 0?!0:H,j=e.eventKey,D=e.content,v=e.closable,y=e.closeIcon,E=y===void 0?"x":y,C=e.props,x=e.onClick,I=e.onNoticeClose,b=e.times,s=e.hovering,M=t.useState(!1),R=_(M,2),N=R[0],g=R[1],n=t.useState(0),o=_(n,2),l=o[0],r=o[1],p=t.useState(0),c=_(p,2),h=c[0],O=c[1],W=s||N,q=m>0&&P,Q=function(){I(j)},Y=function(d){(d.key==="Enter"||d.code==="Enter"||d.keyCode===Pe.ENTER)&&Q()};t.useEffect(function(){if(!W&&m>0){var T=Date.now()-h,d=setTimeout(function(){Q()},m*1e3-h);return function(){L&&clearTimeout(d),O(Date.now()-T)}}},[m,W,b]),t.useEffect(function(){if(!W&&q&&(L||h===0)){var T=performance.now(),d,S=function U(){cancelAnimationFrame(d),d=requestAnimationFrame(function(ne){var z=ne+h-T,F=Math.min(z/(m*1e3),1);r(F*100),F<1&&U()})};return S(),function(){L&&cancelAnimationFrame(d)}}},[m,h,W,q,b]);var G=t.useMemo(function(){return he(v)==="object"&&v!==null?v:v?{closeIcon:E}:{}},[v,E]),te=Ae(G,!0),A=100-(!l||l<0?0:l>100?100:l),w="".concat(f,"-notice");return t.createElement("div",ee({},C,{ref:a,className:$(w,u,fe({},"".concat(w,"-closable"),v)),style:i,onMouseEnter:function(d){var S;g(!0),C==null||(S=C.onMouseEnter)===null||S===void 0||S.call(C,d)},onMouseLeave:function(d){var S;g(!1),C==null||(S=C.onMouseLeave)===null||S===void 0||S.call(C,d)},onClick:x}),t.createElement("div",{className:"".concat(w,"-content")},D),v&&t.createElement("a",ee({tabIndex:0,className:"".concat(w,"-close"),onKeyDown:Y,"aria-label":"Close"},te,{onClick:function(d){d.preventDefault(),d.stopPropagation(),Q()}}),G.closeIcon),q&&t.createElement("progress",{className:"".concat(w,"-progress"),max:"100",value:A},A+"%"))}),ke=X.createContext({}),Ge=function(a){var f=a.children,i=a.classNames;return X.createElement(ke.Provider,{value:{classNames:i}},f)},me=8,ye=3,Ce=16,be=function(a){var f={offset:me,threshold:ye,gap:Ce};if(a&&he(a)==="object"){var i,u,k;f.offset=(i=a.offset)!==null&&i!==void 0?i:me,f.threshold=(u=a.threshold)!==null&&u!==void 0?u:ye,f.gap=(k=a.gap)!==null&&k!==void 0?k:Ce}return[!!a,f]},Me=["className","style","classNames","styles"],we=function(a){var f=a.configList,i=a.placement,u=a.prefixCls,k=a.className,m=a.style,P=a.motion,H=a.onAllNoticeRemoved,L=a.onNoticeClose,j=a.stack,D=t.useContext(ke),v=D.classNames,y=t.useRef({}),E=t.useRef(null),C=t.useState([]),x=_(C,2),I=x[0],b=x[1],s=f.map(function(c){return{config:c,key:String(c.key)}}),M=be(j),R=_(M,2),N=R[0],g=R[1],n=g.offset,o=g.threshold,l=g.gap,r=N&&(I.length>0||s.length<=o),p=typeof P=="function"?P(i):P;return t.useEffect(function(){N&&I.length>1&&b(function(c){return c.filter(function(h){return s.some(function(O){var W=O.key;return h===W})})})},[I,s,N]),t.useEffect(function(){var c;if(N&&y.current[(c=s[s.length-1])===null||c===void 0?void 0:c.key]){var h;E.current=y.current[(h=s[s.length-1])===null||h===void 0?void 0:h.key]}},[s,N]),X.createElement(Re,ee({key:i,className:$(u,"".concat(u,"-").concat(i),v==null?void 0:v.list,k,fe(fe({},"".concat(u,"-stack"),!!N),"".concat(u,"-stack-expanded"),r)),style:m,keys:s,motionAppear:!0},p,{onAllRemoved:function(){H(i)}}),function(c,h){var O=c.config,W=c.className,q=c.style,Q=c.index,Y=O,G=Y.key,te=Y.times,A=String(G),w=O,T=w.className,d=w.style,S=w.classNames,U=w.styles,ne=Ne(w,Me),z=s.findIndex(function(Z){return Z.key===A}),F={};if(N){var B=s.length-1-(z>-1?z:Q-1),ve=i==="top"||i==="bottom"?"-50%":"0";if(B>0){var oe,ae,re,ie,se,ce;F.height=r?(oe=y.current[A])===null||oe===void 0?void 0:oe.offsetHeight:(ae=E.current)===null||ae===void 0?void 0:ae.offsetHeight;for(var de=0,le=0;le<B;le++){var ue;de+=((ue=y.current[s[s.length-1-le].key])===null||ue===void 0?void 0:ue.offsetHeight)+l}var Se=(r?de:B*n)*(i.startsWith("top")?1:-1),Ee=!r&&(re=E.current)!==null&&re!==void 0&&re.offsetWidth&&(ie=y.current[A])!==null&&ie!==void 0&&ie.offsetWidth?(((se=E.current)===null||se===void 0?void 0:se.offsetWidth)-n*2*(B<3?B:3))/((ce=y.current[A])===null||ce===void 0?void 0:ce.offsetWidth):1;F.transform="translate3d(".concat(ve,", ").concat(Se,"px, 0) scaleX(").concat(Ee,")")}else F.transform="translate3d(".concat(ve,", 0, 0)")}return X.createElement("div",{ref:h,className:$("".concat(u,"-notice-wrapper"),W,S==null?void 0:S.wrapper),style:J(J(J({},q),F),U==null?void 0:U.wrapper),onMouseEnter:function(){return b(function(K){return K.includes(A)?K:[].concat(V(K),[A])})},onMouseLeave:function(){return b(function(K){return K.filter(function(xe){return xe!==A})})}},X.createElement(Le,ee({},ne,{ref:function(K){z>-1?y.current[A]=K:delete y.current[A]},prefixCls:u,classNames:S,styles:U,className:$(T,v==null?void 0:v.notice),style:d,times:te,key:G,eventKey:G,onNoticeClose:L,hovering:N&&I.length>0})))})},He=t.forwardRef(function(e,a){var f=e.prefixCls,i=f===void 0?"rc-notification":f,u=e.container,k=e.motion,m=e.maxCount,P=e.className,H=e.style,L=e.onAllRemoved,j=e.stack,D=e.renderNotifications,v=t.useState([]),y=_(v,2),E=y[0],C=y[1],x=function(o){var l,r=E.find(function(p){return p.key===o});r==null||(l=r.onClose)===null||l===void 0||l.call(r),C(function(p){return p.filter(function(c){return c.key!==o})})};t.useImperativeHandle(a,function(){return{open:function(o){C(function(l){var r=V(l),p=r.findIndex(function(O){return O.key===o.key}),c=J({},o);if(p>=0){var h;c.times=(((h=l[p])===null||h===void 0?void 0:h.times)||0)+1,r[p]=c}else c.times=0,r.push(c);return m>0&&r.length>m&&(r=r.slice(-m)),r})},close:function(o){x(o)},destroy:function(){C([])}}});var I=t.useState({}),b=_(I,2),s=b[0],M=b[1];t.useEffect(function(){var n={};E.forEach(function(o){var l=o.placement,r=l===void 0?"topRight":l;r&&(n[r]=n[r]||[],n[r].push(o))}),Object.keys(s).forEach(function(o){n[o]=n[o]||[]}),M(n)},[E]);var R=function(o){M(function(l){var r=J({},l),p=r[o]||[];return p.length||delete r[o],r})},N=t.useRef(!1);if(t.useEffect(function(){Object.keys(s).length>0?N.current=!0:N.current&&(L==null||L(),N.current=!1)},[s]),!u)return null;var g=Object.keys(s);return pe.createPortal(t.createElement(t.Fragment,null,g.map(function(n){var o=s[n],l=t.createElement(we,{key:n,configList:o,placement:n,prefixCls:i,className:P==null?void 0:P(n),style:H==null?void 0:H(n),motion:k,onNoticeClose:x,onAllNoticeRemoved:R,stack:j});return D?D(l,{prefixCls:i,key:n}):l})),u)}),Ie=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Te=function(){return document.body},ge=0;function _e(){for(var e={},a=arguments.length,f=new Array(a),i=0;i<a;i++)f[i]=arguments[i];return f.forEach(function(u){u&&Object.keys(u).forEach(function(k){var m=u[k];m!==void 0&&(e[k]=m)})}),e}function Ue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.getContainer,f=a===void 0?Te:a,i=e.motion,u=e.prefixCls,k=e.maxCount,m=e.className,P=e.style,H=e.onAllRemoved,L=e.stack,j=e.renderNotifications,D=Ne(e,Ie),v=t.useState(),y=_(v,2),E=y[0],C=y[1],x=t.useRef(),I=t.createElement(He,{container:E,ref:x,prefixCls:u,motion:i,maxCount:k,className:m,style:P,onAllRemoved:H,stack:L,renderNotifications:j}),b=t.useState([]),s=_(b,2),M=s[0],R=s[1],N=t.useMemo(function(){return{open:function(n){var o=_e(D,n);(o.key===null||o.key===void 0)&&(o.key="rc-notification-".concat(ge),ge+=1),R(function(l){return[].concat(V(l),[{type:"open",config:o}])})},close:function(n){R(function(o){return[].concat(V(o),[{type:"close",key:n}])})},destroy:function(){R(function(n){return[].concat(V(n),[{type:"destroy"}])})}}},[]);return t.useEffect(function(){C(f())}),t.useEffect(function(){x.current&&M.length&&(M.forEach(function(g){switch(g.type){case"open":x.current.open(g.config);break;case"close":x.current.close(g.key);break;case"destroy":x.current.destroy();break}}),R(function(g){return g.filter(function(n){return!M.includes(n)})}))},[M]),[N,I]}export{Le as N,Ge as a,Ue as u};
